# Firewall and IDS/IPS Evasion
  
  
### 8.1 - Using Decoys  
- There are times that administrators block specific subnet.  
- By using `-D` / decoy, you can pose as that allowed IP address.  

```bash
sudo nmap 10.129.2.28 -p 80 -Pn -n -sS --disable-arp-ping --packet-trace -D RND:5
```

Note:  
`--packet-trace` : just for us to see if the decoy worked
`-D RND:5` : generates 5 random IP addresses that pose as source IP

### 8.2 - Scan By Using Different Specific IP Address   
- Same logic with Decoys but here we will specify an IP address 
- We must specify the IP address that is allowed 

```bash
sudo nmap 10.129.2.28 -p 445 -Pn -n -O -S 10.129.2.200 -e tun0 
```

Note:  
`-S` : scan the target using a different source IP  
`-e tun0` : send all the request through the specified interface.  


### 8.3 - DNS Proxying 
- Sometimes, it only allows connection coming from DNS or port 53 

```bash
sudo nmap 10.129.2.28 -p50000 --source-port 53
```

- And then, connect to the filtered port:  

```bash
netcat -nv --source-port 53 10.129.2.28 50000
```